(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-common-zgzm-fangke-yuyue"],{"0793":function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,'.deviceList[data-v-42e9716e]{padding:3vw 2vw 3vw 0}.progress[data-v-42e9716e]{display:flex;justify-content:space-around;padding:5vw 0 5vw;&>uni-view{width:40%}.chartsProgress{position:relative;height:100%;width:100%;\n\t\t/* text-align: center; */display:flex;flex-direction:column;justify-content:center;align-items:center;-webkit-transform:scale(.9);transform:scale(.9);.chartsProgressTop{&>uni-view{display:inline-block}.chartsProgressNum{margin-right:1.5vw}.company{font-size:5vw}}.title{font-size:5vw;color:#6f6f6f}}}.myCardgrid[data-v-42e9716e]{width:95%;margin-left:auto;margin-right:auto\n\t/* height: 150px; */}.shebeicar[data-v-42e9716e]{float:left;margin-left:2vw;margin-bottom:2vw;width:21.2vw;height:27.5vw;background:linear-gradient(180deg,#f7f8fa,#f7f8fa);box-shadow:inset 0 1px 1px 1px #fff,inset 0 1px 2px 0 hsla(0,0%,76.5%,.58);border-radius:4px}.clearfix[data-v-42e9716e]::after{content:"";display:table;clear:both}.text-center-le[data-v-42e9716e]{font-size:14px;margin-top:5px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:3em;line-height:1.5em}.shebeisearch[data-v-42e9716e]{padding:10px 10px 0 10px}.error-message[data-v-42e9716e]{color:#ff4d4f;font-size:12px;margin-top:4px;margin-bottom:8px;padding-left:15px}.xieYi[data-v-42e9716e]{display:flex;justify-content:center;align-items:center}.image-hint[data-v-42e9716e]{color:#888;\n\t/* 文字颜色 */font-size:12px;\n\t/* 文字大小 */text-align:center;\n\t/* 居中对齐 */margin-top:8px;\n\t/* 顶部外边距 */line-height:1.5\n\t/* 行高 */}',""]),e.exports=t},"126f":function(e,t,i){"use strict";i.r(t);var n=i("796f"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"189d":function(e,t,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("fab6")),a={name:"u-gap",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{gapStyle:function(){var e={backgroundColor:this.bgColor,height:uni.$u.addUnit(this.height),marginTop:uni.$u.addUnit(this.marginTop),marginBottom:uni.$u.addUnit(this.marginBottom)};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=a},"3d2f":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uIcon:i("afa0").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-number-box"},[e.showMinus&&e.$slots.minus?i("v-uni-view",{staticClass:"u-number-box__slot",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchStart("minus")},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearTimeout.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler("minus")}}},[e._t("minus")],2):e.showMinus?i("v-uni-view",{staticClass:"u-number-box__minus",class:{"u-number-box__minus--disabled":e.isDisabled("minus")},style:[e.buttonStyle("minus")],attrs:{"hover-class":"u-number-box__minus--hover","hover-stay-time":"150"},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchStart("minus")},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearTimeout.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler("minus")}}},[i("u-icon",{attrs:{name:"minus",color:e.isDisabled("minus")?"#c8c9cc":"#323233",size:"15",bold:!0,customStyle:e.iconStyle}})],1):e._e(),e._t("input",[i("v-uni-input",{staticClass:"u-number-box__input",class:{"u-number-box__input--disabled":e.disabled||e.disabledInput},style:[e.inputStyle],attrs:{disabled:e.disabledInput||e.disabled,"cursor-spacing":e.getCursorSpacing,type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onFocus.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)}},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})]),e.showPlus&&e.$slots.plus?i("v-uni-view",{staticClass:"u-number-box__slot",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchStart("plus")},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearTimeout.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler("plus")}}},[e._t("plus")],2):e.showPlus?i("v-uni-view",{staticClass:"u-number-box__plus",class:{"u-number-box__minus--disabled":e.isDisabled("plus")},style:[e.buttonStyle("plus")],attrs:{"hover-class":"u-number-box__plus--hover","hover-stay-time":"150"},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchStart("plus")},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearTimeout.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler("plus")}}},[i("u-icon",{attrs:{name:"plus",color:e.isDisabled("plus")?"#c8c9cc":"#323233",size:"15",bold:!0,customStyle:e.iconStyle}})],1):e._e()],2)},a=[]},4463:function(e,t,i){"use strict";i.r(t);var n=i("3d2f"),r=i("126f");for(var a in r)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("eaa2");var o=i("828b"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"44254ce5",null,!1,n["a"],void 0);t["default"]=s.exports},"4abf":function(e,t,i){var n=i("540b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("967d").default;r("3bfb6270",n,!0,{sourceMap:!1,shadowMode:!1})},"50b4":function(e,t,i){"use strict";(function(e){i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("9b1b")),a=n(i("2634")),o=n(i("2fdc"));i("dc8a"),i("5c47"),i("0506"),i("bf0f"),i("dd2b"),i("c223");var s=i("d4ca"),u={data:function(){return{imgList:[],sexPicker:["男","女"],typePicker:[{name:"普通访客"},{name:"场内人员"},{name:"场内人员"}],identificationPicker:["中国大陆居民身份证","港澳台居民身份证"],modalName:null,form:{receptionName:"",receptionMobile:"",visitReason:"",planTime:(new Date).toISOString().split("T")[0],planBeginTime:"09:00",planEndTime:"18:00",vistorName:"",vistorMobile:"",vistorVehicleLpn:"",vistorSex:"0",vistorIdType:"0",vistorIdNumber:"",agreedToTerms:!1,nump:1},errors:{}}},computed:{isFormValid:function(){return this.form.receptionName&&this.form.receptionMobile&&this.form.vistorName&&this.form.vistorMobile&&this.form.vistorIdNumber&&this.form.agreedToTerms&&this.imgList.length>0&&0===Object.keys(this.errors).length},title:function(){return this.$Route.query.title||"设备列表"}},methods:{formatTime:function(e){return e.split("T")[1]},handlePicker:function(e,t){"undefined"!==typeof t.detail.value&&(this.form[e]=t.detail.value)},handleDateChange:function(e){this.form.planTime=e.detail.value},handleStartTimeChange:function(e){this.form.planBeginTime=e.detail.value},handleEndTimeChange:function(e){this.form.planEndTime=e.detail.value},changenump:function(e){this.form.nump=e.detail.value},valiplanTimeField:function(e){switch(e){case"receptionName":case"vistorName":this.form[e]?this.form[e].length<2?this.errors[e]="".concat("receptionName"===e?"被访人":"访客","姓名至少需要2个字符"):delete this.errors[e]:this.errors[e]="".concat("receptionName"===e?"被访人":"访客","姓名不能为空");break;case"receptionMobile":case"vistorMobile":this.form[e]?/^1[3-9]\d{9}$/.test(this.form[e])?delete this.errors[e]:this.errors[e]="请输入有效的11位手机号码":this.errors[e]="".concat("receptionMobile"===e?"被访人":"访客","电话不能为空");break;case"vistorIdNumber":this.form[e]?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.form[e])?delete this.errors[e]:this.errors[e]="请输入有效的身份证号码":this.errors[e]="证件号码不能为空";break;case"images":0===this.imgList.length?this.errors[e]="请上传至少一张人脸照片":delete this.errors[e];break;case"nump":!this.form[e]||this.form[e]<1?this.errors[e]="访客人数不能为空且必须大于0":delete this.errors[e];break;case"agreedToTerms":this.form.agreedToTerms?delete this.errors[e]:this.errors[e]="请同意用户协议和隐私政策";break}},valiplanTimeForm:function(){var e=this;["receptionName","receptionMobile","vistorName","vistorMobile","vistorIdNumber","images","agreedToTerms"].forEach((function(t){return e.valiplanTimeField(t)}))},handleAgreementChange:function(t){e.log(t),t.detail.value.length>0?this.form.agreedToTerms=!0:this.form.agreedToTerms=!1,this.valiplanTimeField("agreedToTerms")},chooseImage:function(){var e=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(){var t=(0,o.default)((0,a.default)().mark((function t(i){var n,r;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.tempFilePaths[0],t.next=3,e.convertToBase64(n);case 3:r=t.sent,e.imgList=[r],e.valiplanTimeField("images");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},convertToBase64:function(e){return(0,o.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){fetch(e).then((function(e){return e.blob()})).then((function(e){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return i(e)}})).catch((function(e){return i(e)}))})));case 1:case"end":return t.stop()}}),t)})))()},viewImage:function(e){uni.previewImage({urls:this.imgList,current:this.imgList[e]})},deleteImage:function(e){var t=this;uni.showModal({title:"提示",content:"确定要删除这张图片吗？",success:function(i){i.confirm&&(t.imgList.splice(e,1),t.valiplanTimeField("images"))}})},submitForm:function(){var e=this;return(0,o.default)((0,a.default)().mark((function t(){var i;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.valiplanTimeForm(),!e.isFormValid){t.next=18;break}return t.prev=2,i=(0,r.default)((0,r.default)({},e.form),{},{vistorPhoto:e.imgList[0],vistorSex:String(e.form.vistorSex),vistorIdType:String(e.form.vistorIdType),nump:String(e.form.nump)}),delete i.agreedToTerms,uni.showLoading({title:"提交中..."}),t.next=8,(0,s.addVisitor)(i);case 8:uni.hideLoading(),uni.showToast({title:"提交成功",icon:"success",duration:1e3,success:function(){setTimeout((function(){window.history.back()}),1e3)}}),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),uni.hideLoading(),uni.showToast({title:"提交失败",icon:"none",duration:2e3});case 16:t.next=19;break;case 18:uni.showToast({title:"请正确填写所有必要信息并同意条款",icon:"none"});case 19:case"end":return t.stop()}}),t,null,[[2,12]])})))()},formatDateTime:function(e,t){return"".concat(e,"T").concat(t)},resetForm:function(){this.form={receptionName:"",receptionMobile:"",visitReason:"",planTime:"2024-10-12",vistorName:"",vistorMobile:"",vistorVehicleLpn:"",vistorSex:0,vistorIdType:0,vistorIdNumber:"",agreedToTerms:!1},this.imgList=[],this.errors={}}}};t.default=u}).call(this,i("ba7c")["default"])},"540b":function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-3927d88e], uni-scroll-view[data-v-3927d88e], uni-swiper-item[data-v-3927d88e]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}',""]),e.exports=t},"5f54":function(e,t,i){"use strict";i.r(t);var n=i("9446"),r=i("8ef9");for(var a in r)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("d839");var o=i("828b"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"42e9716e",null,!1,n["a"],void 0);t["default"]=s.exports},"5f81":function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-44254ce5], uni-scroll-view[data-v-44254ce5], uni-swiper-item[data-v-44254ce5]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-number-box[data-v-44254ce5]{display:flex;flex-direction:row;align-items:center}.u-number-box__slot[data-v-44254ce5]{touch-action:none}.u-number-box__plus[data-v-44254ce5], .u-number-box__minus[data-v-44254ce5]{width:35px;display:flex;flex-direction:row;justify-content:center;align-items:center;touch-action:none}.u-number-box__plus--hover[data-v-44254ce5], .u-number-box__minus--hover[data-v-44254ce5]{background-color:#e6e6e6!important}.u-number-box__plus--disabled[data-v-44254ce5], .u-number-box__minus--disabled[data-v-44254ce5]{color:#c8c9cc;background-color:#f7f8fa}.u-number-box__plus[data-v-44254ce5]{border-top-right-radius:4px;border-bottom-right-radius:4px}.u-number-box__minus[data-v-44254ce5]{border-top-left-radius:4px;border-bottom-left-radius:4px}.u-number-box__input[data-v-44254ce5]{position:relative;text-align:center;font-size:15px;padding:0;margin:0 2px;display:flex;flex-direction:row;align-items:center;justify-content:center}.u-number-box__input--disabled[data-v-44254ce5]{color:#c8c9cc;background-color:#f2f3f5}',""]),e.exports=t},"65c7":function(e,t,i){"use strict";var n=i("4abf"),r=i.n(n);r.a},"796f":function(e,t,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("9b1b"));i("8f71"),i("bf0f"),i("5c47"),i("a1c1"),i("5ef2"),i("c223"),i("f7a5"),i("c9b5"),i("ab80");var a=n(i("9cd9")),o={name:"u-number-box",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{currentValue:"",longPressTimer:null}},watch:{watchChange:function(e){this.check()},value:function(e){e!==this.currentValue&&(this.currentValue=this.format(this.value))}},computed:{getCursorSpacing:function(){return uni.$u.getPx(this.cursorSpacing)},buttonStyle:function(){var e=this;return function(t){var i={backgroundColor:e.bgColor,height:uni.$u.addUnit(e.buttonSize),color:e.color};return e.isDisabled(t)&&(i.backgroundColor="#f7f8fa"),i}},inputStyle:function(){this.disabled||this.disabledInput;var e={color:this.color,backgroundColor:this.bgColor,height:uni.$u.addUnit(this.buttonSize),width:uni.$u.addUnit(this.inputWidth)};return e},watchChange:function(){return[this.integer,this.decimalLength,this.min,this.max]},isDisabled:function(){var e=this;return function(t){return"plus"===t?e.disabled||e.disablePlus||e.currentValue>=e.max:e.disabled||e.disableMinus||e.currentValue<=e.min}}},mounted:function(){this.init()},methods:{init:function(){this.currentValue=this.format(this.value)},format:function(e){return e=this.filter(e),e=""===e?0:+e,e=Math.max(Math.min(this.max,e),this.min),null!==this.decimalLength&&(e=e.toFixed(this.decimalLength)),e},filter:function(e){return e=String(e).replace(/[^0-9.-]/g,""),this.integer&&-1!==e.indexOf(".")&&(e=e.split(".")[0]),e},check:function(){var e=this.format(this.currentValue);e!==this.currentValue&&(this.currentValue=e)},onFocus:function(e){this.$emit("focus",(0,r.default)((0,r.default)({},e.detail),{},{name:this.name}))},onBlur:function(e){this.format(e.detail.value);this.$emit("blur",(0,r.default)((0,r.default)({},e.detail),{},{name:this.name}))},onInput:function(e){var t=e.detail||{},i=t.value,n=void 0===i?"":i;if(""!==n){var r=this.filter(n);if(null!==this.decimalLength&&-1!==r.indexOf(".")){var a=r.split(".");r="".concat(a[0],".").concat(a[1].slice(0,this.decimalLength))}r=this.format(r),this.emitChange(r)}},emitChange:function(e){var t=this;this.asyncChange||this.$nextTick((function(){t.$emit("input",e),t.currentValue=e,t.$forceUpdate()})),this.$emit("change",{value:e,name:this.name})},onChange:function(){var e=this.type;if(this.isDisabled(e))return this.$emit("overlimit",e);var t="minus"===e?-this.step:+this.step,i=this.format(this.add(+this.currentValue,t));this.emitChange(i),this.$emit(e)},add:function(e,t){var i=Math.pow(10,10);return Math.round((e+t)*i)/i},clickHandler:function(e){this.type=e,this.onChange()},longPressStep:function(){var e=this;this.clearTimeout(),this.longPressTimer=setTimeout((function(){e.onChange(),e.longPressStep()}),250)},onTouchStart:function(e){var t=this;this.longPress&&(this.clearTimeout(),this.type=e,this.longPressTimer=setTimeout((function(){t.onChange(),t.longPressStep()}),600))},onTouchEnd:function(){this.longPress&&this.clearTimeout()},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearTimeout(this.longPressTimer),this.longPressTimer=null}))}};t.default=o},"7a7d":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-gap",style:[this.gapStyle]})},r=[]},"8ef9":function(e,t,i){"use strict";i.r(t);var n=i("50b4"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},9446:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uGap:i("c2c9").default,uNumberBox:i("4463").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticStyle:{"background-color":"white"}},[i("v-uni-scroll-view",{staticClass:"pageNo",attrs:{"scroll-y":!0}},[i("cu-custom",{attrs:{bgColor:"bg-gradual-white",isBack:!0}},[i("template",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.title))])],2),i("u-gap",{attrs:{height:"2vw","bg-color":"#F5F7FB"}}),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"section"},[i("v-uni-view",{staticClass:"text-gray",staticStyle:{color:"#3a3a3a",margin:"10px"}},[e._v("被访人员信息")]),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("电话号码：")],1),i("v-uni-input",{attrs:{placeholder:"请输入拜访人员电话",name:"input",maxlength:"11",type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("receptionMobile")}},model:{value:e.form.receptionMobile,callback:function(t){e.$set(e.form,"receptionMobile",t)},expression:"form.receptionMobile"}})],1),e.errors.receptionMobile?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.receptionMobile))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("拜访人员：")],1),i("v-uni-input",{attrs:{placeholder:"请输入拜访人员",name:"input",maxlength:"8",type:"text"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("receptionName")}},model:{value:e.form.receptionName,callback:function(t){e.$set(e.form,"receptionName",t)},expression:"form.receptionName"}})],1),e.errors.receptionName?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.receptionName))]):e._e(),i("v-uni-view",{staticClass:"text-gray",staticStyle:{color:"#3a3a3a",margin:"10px"}},[e._v("来访信息")]),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访日期：")],1),i("v-uni-picker",{attrs:{mode:"date",value:e.form.planTime,start:"1999-01-01",end:"2099-12-31"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.form.planTime))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访时间：")],1),i("v-uni-picker",{attrs:{mode:"time",value:e.form.planBeginTime,start:"1999-01-01",end:"2099-12-31"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleStartTimeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.form.planBeginTime))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("离访时间：")],1),i("v-uni-picker",{attrs:{mode:"time",value:e.form.planEndTime,start:"1999-01-01",end:"2099-12-31"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleEndTimeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.form.planEndTime))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访事由：")],1),i("v-uni-input",{attrs:{placeholder:"请输入来访事由",name:"input",maxlength:"15"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("cause")}},model:{value:e.form.visitReason,callback:function(t){e.$set(e.form,"visitReason",t)},expression:"form.visitReason"}})],1),e.errors.visitReason?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.visitReason))]):e._e()],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-view",{staticClass:"text-gray ",staticStyle:{color:"#3a3a3a",margin:"10px"}},[e._v("访客信息")]),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访人数：")],1),i("u-number-box",{on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("nump")}},model:{value:e.form.nump,callback:function(t){e.$set(e.form,"nump",t)},expression:"form.nump"}})],1),e.errors.nump?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.visitorCount))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访单位：")],1),i("v-uni-input",{attrs:{placeholder:"请输入单位名称",name:"input",maxlength:"30"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("visitOrg")}},model:{value:e.form.visitOrg,callback:function(t){e.$set(e.form,"visitOrg",t)},expression:"form.visitOrg"}})],1),e.errors.visitOrg?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.visitOrg))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group "},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("来访人员：")],1),i("v-uni-input",{attrs:{placeholder:"请输入您的姓名",name:"input",maxlength:"8",type:"text"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("vistorName")}},model:{value:e.form.vistorName,callback:function(t){e.$set(e.form,"vistorName",t)},expression:"form.vistorName"}})],1),e.errors.vistorName?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.vistorName))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("联系电话：")],1),i("v-uni-input",{attrs:{placeholder:"请输入您的手机号码",name:"input",maxlength:"11",type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("vistorMobile")}},model:{value:e.form.vistorMobile,callback:function(t){e.$set(e.form,"vistorMobile",t)},expression:"form.vistorMobile"}})],1),e.errors.vistorMobile?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.vistorMobile))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[e._v("车牌号：")]),i("v-uni-input",{attrs:{placeholder:"请输入您的车牌号",name:"input"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("vistorVehicleLpn")}},model:{value:e.form.vistorVehicleLpn,callback:function(t){e.$set(e.form,"vistorVehicleLpn",t)},expression:"form.vistorVehicleLpn"}})],1),e.errors.vistorVehicleLpn?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.vistorVehicleLpn))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("性别：")],1),i("v-uni-picker",{attrs:{value:e.form.vistorSex,range:e.sexPicker},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePicker("vistorSex",t)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.form.vistorSex>-1?e.sexPicker[e.form.vistorSex]:"男"))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("证件类型：")],1),i("v-uni-picker",{attrs:{value:e.form.vistorIdType,range:e.identificationPicker},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePicker("vistorIdType",t)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.form.vistorIdType>-1?e.identificationPicker[e.form.vistorIdType]:"中国大陆居民身份证"))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("证件号码：")],1),i("v-uni-input",{attrs:{placeholder:"请输入证件号码",name:"input",maxlength:"18",type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.valiplanTimeField("vistorIdNumber")}},model:{value:e.form.vistorIdNumber,callback:function(t){e.$set(e.form,"vistorIdNumber",t)},expression:"form.vistorIdNumber"}})],1),e.errors.vistorIdNumber?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.vistorIdNumber))]):e._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticStyle:{color:"red"}},[e._v("*")]),e._v("人脸照片：")],1),i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub padding-top"},[e.imgList.length>0?i("v-uni-view",{staticClass:"bg-img",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.viewImage(0)}}},[i("v-uni-image",{attrs:{src:e.imgList[0],mode:"aspectFill"}}),i("v-uni-view",{staticClass:"cu-tag bg-red",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.deleteImage(0)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1):e._e(),0===e.imgList.length?i("v-uni-view",{staticClass:"solids",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseImage.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):e._e()],1)],1),i("v-uni-view",{staticClass:"image-hint"},[i("v-uni-text",[e._v("图片仅支持 jpg、jpeg、png 格式，大小 10KB~200KB")])],1),e.errors.images?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.images))]):e._e()],1),i("v-uni-view",{staticClass:"xieYi text-center margin-top",staticStyle:{"font-size":"12px"}},[i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAgreementChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{staticClass:"round sm blue",class:e.form.agreedToTerms?"checked":"",attrs:{checked:e.form.agreedToTerms}})],1),i("v-uni-text",{staticClass:"text-grey",staticStyle:{"margin-left":"15px","margin-top":"5px"}},[e._v("勾选即视为您同意")]),i("v-uni-text",{staticClass:"text-blue",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showModal("userAgreement")}}},[e._v("《用户协议》")]),i("v-uni-text",{staticClass:"text-blue",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showModal("privacyPolicy")}}},[e._v("《隐私协议》")])],1),e.errors.agreedToTerms?i("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errors.agreedToTerms))]):e._e(),i("v-uni-button",{staticClass:"login-btn cu-btn block bg-blue lg round",staticStyle:{margin:"10px 60px",color:"#fff","background-color":"#86BEF6"},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitForm.apply(void 0,arguments)}}},[e._v("提交")]),i("v-uni-view",{staticClass:"cu-modal",class:{show:"userAgreement"===e.modalName}},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content",staticStyle:{"font-size":"16px",width:"60%",color:"#3a3a3a"}},[e._v("《服务条款》及《隐私政策》")])],1),i("v-uni-view",{staticClass:"padding-xl"},[e._v("用户协议内容")]),i("v-uni-view",{staticClass:"bg-white",staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"login-btn cu-btn block lg bg-blue round",staticStyle:{"margin-right":"60px","margin-left":"60px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideModal.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-modal",class:{show:"privacyPolicy"===e.modalName}},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content",staticStyle:{"font-size":"16px",width:"60%",color:"#3a3a3a"}},[e._v("《服务条款》及《隐私政策》")])],1),i("v-uni-view",{staticClass:"padding-xl"},[e._v("隐私政策内容")]),i("v-uni-view",{staticClass:"bg-white",staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"login-btn cu-btn block lg bg-blue round",staticStyle:{"margin-right":"60px","margin-left":"60px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideModal.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1)],1)],1)],1)},a=[]},9968:function(e,t,i){var n=i("0793");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("967d").default;r("3550d79a",n,!0,{sourceMap:!1,shadowMode:!1})},"9cd9":function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa");var n={props:{name:{type:[String,Number],default:uni.$u.props.numberBox.name},value:{type:[String,Number],default:uni.$u.props.numberBox.value},min:{type:[String,Number],default:uni.$u.props.numberBox.min},max:{type:[String,Number],default:uni.$u.props.numberBox.max},step:{type:[String,Number],default:uni.$u.props.numberBox.step},integer:{type:Boolean,default:uni.$u.props.numberBox.integer},disabled:{type:Boolean,default:uni.$u.props.numberBox.disabled},disabledInput:{type:Boolean,default:uni.$u.props.numberBox.disabledInput},asyncChange:{type:Boolean,default:uni.$u.props.numberBox.asyncChange},inputWidth:{type:[String,Number],default:uni.$u.props.numberBox.inputWidth},showMinus:{type:Boolean,default:uni.$u.props.numberBox.showMinus},showPlus:{type:Boolean,default:uni.$u.props.numberBox.showPlus},decimalLength:{type:[String,Number,null],default:uni.$u.props.numberBox.decimalLength},longPress:{type:Boolean,default:uni.$u.props.numberBox.longPress},color:{type:String,default:uni.$u.props.numberBox.color},buttonSize:{type:[String,Number],default:uni.$u.props.numberBox.buttonSize},bgColor:{type:String,default:uni.$u.props.numberBox.bgColor},cursorSpacing:{type:[String,Number],default:uni.$u.props.numberBox.cursorSpacing},disablePlus:{type:Boolean,default:uni.$u.props.numberBox.disablePlus},disableMinus:{type:Boolean,default:uni.$u.props.numberBox.disableMinus},iconStyle:{type:[Object,String],default:uni.$u.props.numberBox.iconStyle}}};t.default=n},c2c9:function(e,t,i){"use strict";i.r(t);var n=i("7a7d"),r=i("e248");for(var a in r)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("65c7");var o=i("828b"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"3927d88e",null,!1,n["a"],void 0);t["default"]=s.exports},d4ca:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.addVisitor=function(e){return n.http.request({url:"visitor/visitorAppointments/add",method:"post",data:e})},t.auditVisitor=function(e){return n.http.request({url:"visitor/visitorAppointments/confirm",method:"post",data:e})},t.getVisitorAuditList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n.http.request({url:"visitor/visitorAppointments/list",method:"get",params:{pageNo:e,pageSize:t,createBy:uni.getStorageSync("username")}})},t.getVisitorId=function(e){return n.http.request({url:"visitor/visitorAppointments/queryById",method:"get",params:{id:e}})},t.getVisitorList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return n.http.request({url:"visitor/visitorAppointments/applist",method:"get",params:{pageNo:t,pageSize:i,uniId:e,createBy:uni.getStorageSync("username")}})};var n=i("38cb")},d811:function(e,t,i){var n=i("5f81");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("967d").default;r("8bae465e",n,!0,{sourceMap:!1,shadowMode:!1})},d839:function(e,t,i){"use strict";var n=i("9968"),r=i.n(n);r.a},e248:function(e,t,i){"use strict";i.r(t);var n=i("189d"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},eaa2:function(e,t,i){"use strict";var n=i("d811"),r=i.n(n);r.a},fab6:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa");var n={props:{bgColor:{type:String,default:uni.$u.props.gap.bgColor},height:{type:[String,Number],default:uni.$u.props.gap.height},marginTop:{type:[String,Number],default:uni.$u.props.gap.marginTop},marginBottom:{type:[String,Number],default:uni.$u.props.gap.marginBottom}}};t.default=n}}]);