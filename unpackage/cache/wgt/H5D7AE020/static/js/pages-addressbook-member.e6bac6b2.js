(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addressbook-member"],{"0bab":function(t,e,a){"use strict";a.r(e);var r=a("e07e"),s=a("6fff");for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var n=a("828b"),o=Object(n["a"])(s["default"],r["b"],r["c"],!1,null,"9617fb42",null,!1,r["a"],void 0);e["default"]=o.exports},"6fff":function(t,e,a){"use strict";a.r(e);var r=a("ac36"),s=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e["default"]=s.a},ac36:function(t,e,a){"use strict";(function(t){a("6a54");var r=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(a("3471")),i=r(a("9b1b"));a("c223"),a("aa9c");var n=a("0b94"),o={name:"member",data:function(){return{CustomBar:this.CustomBar,StatusBar:this.StatusBar,NavBarColor:this.NavBarColor,departUrl:"/sys/sysDepart/queryTreeList",addressSourceUrl:"/sys/user/queryByOrgCodeForAddressList",queryByOrgCodeKeyword:"/sys/user/queryByOrgCodeKeyword",positionUrl:"/sys/position/list",value:"",memberTitle:"",memberList:[],userId:"",orgCode:"",ids:{},memberTotal:0}},onLoad:function(){t.log("this.$Router",this.$Route),this.memberTitle=this.$Route.query.title,this.orgCode=this.$Route.query.orgCode,this.loadList()},computed:{style:function(){var t=this.StatusBar,e=this.CustomBar,a="height:".concat(e,"px;padding-top:").concat(t,"px;");return a}},methods:{backRoute:function(){this.$Router.push({name:"levelAddressBook",params:this.$Route.query})},goMemberInfo:function(t){var e=(0,i.default)({},t);e.orgCode=this.orgCode,this.$Router.push({name:"addressDetail",params:e})},loadList:function(){var e=this,a={orgCode:this.orgCode,realname:this.value};this.$http.get(this.addressSourceUrl,{params:a}).then((function(a){if(t.log("用户2",a),a.data.success){var r,i=a.data.result.records,n=(0,s.default)(i);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.avatarHandler(o),e.memberList.push(o),e.memberTotal=i.length,void 0==e.memberTotal&&(e.memberTotal=0)}}catch(u){n.e(u)}finally{n.f()}}})).catch((function(e){t.log("请求错误",e)})),this.$http.get(this.positionUrl).then((function(a){if(t.log("用户1",a),a.data.success){var r,i=a.data.result.records,n=(0,s.default)(i);try{for(n.s();!(r=n.n()).done;){var o,u=r.value,c=(0,s.default)(e.memberList);try{for(c.s();!(o=c.n()).done;){var l=o.value;l.post==u.code&&(l.post=u.name)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){n.e(d)}finally{n.f()}}})).catch((function(e){t.log("请求错误",e)}))},avatarHandler:function(t){var e=t.avatar;if(e){var a=(0,n.getFileAccessHttpUrl)(e);t.avatar=a}else"2"==t.sex?t.avatar="static/avatar_girl.png":t.avatar="static/avatar_boy.png"}}};e.default=o}).call(this,a("ba7c")["default"])},e07e:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar fixed",class:[t.NavBarColor],style:t.style},[a("v-uni-view",{staticClass:"cuIcon-back margin-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backRoute()}}},[a("v-uni-text",{staticClass:"margin-left-sm"},[t._v("返回")])],1),a("v-uni-view",{staticClass:"content",style:[{top:t.StatusBar+"px"}]},[t._v(t._s(t.memberTitle))])],1),a("v-uni-view",{staticClass:"cu-list menu-avatar sm-border",style:[{marginTop:"calc("+t.CustomBar+"px + 10px)"}]},[t._l(t.memberList,(function(e,r){return a("v-uni-view",{key:r,staticClass:"cu-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goMemberInfo(e)}}},[a("v-uni-view",{staticClass:"cu-avatar round lg",style:[{backgroundImage:"url("+e.avatar+")"}]}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.realname))]),a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.post))])],1)],1)})),a("v-uni-view",{staticClass:"text-center text-lg"},[a("v-uni-text",[t._v("共"+t._s(t.memberTotal)+"人")])],1)],2)],1)},s=[]}}]);